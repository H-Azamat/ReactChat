(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[6],{56:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f}));var r=n(21),a=n.n(r),c=n(30),s=n(24),u=(n(40),n(16)),i=s.a.firestore(),o={signIn:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s.a.auth().signInWithEmailAndPassword(n,r).then((function(e){var t=e.user;t&&t.emailVerified?c(!0):alert("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u043b\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d")})).catch((function(e){alert("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u043b\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d")}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),register:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s.a.auth().createUserWithEmailAndPassword(n.trim(),r.trim()).then((function(e){var t=e.user;t.updateProfile({displayName:c}),i.collection("users").doc(t.uid).set({username:c,img:null,description:"",social:{github:null,instagram:null,telegram:null,vk:null,youtube:null},userId:t.uid}),t.sendEmailVerification().then((function(){u(!0)})).catch((function(e){alert(e.message)}))})).catch((function(e){throw alert(e.message),e}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),sendEmail:function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.a.auth().currentUser,e.next=3,n.sendEmailVerification().then((function(){t(!0)})).catch((function(e){alert(e.message)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},l={sendMessage:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,i.collection("messages").add({message:t,id:r,date:n,key:new Date});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},f={updateProfile:function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.a.auth().currentUser,e.next=3,i.collection("users").doc(o.uid).update({username:n,img:t,description:r,social:c}).then((function(){Object(u.b)(o.uid,n,t,r,!0)}));case 3:return e.next=5,o.updateProfile({displayName:n,photoURL:t,description:r}).then((function(){Object(u.b)(o.uid,n,t,r,!0)}));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),getUserProfile:function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.collection("users").doc(t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},77:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n(1),c=n(6),s=n(20),u=n(56),i=n(2);t.default=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)(""),f=Object(r.a)(l,2),p=f[0],d=f[1],h=Object(a.useState)(!1),m=Object(r.a)(h,2),b=m[0],j=m[1];return b?Object(i.jsx)(c.a,{to:"/"}):Object(i.jsx)("div",{className:"form-block",children:Object(i.jsxs)("form",{className:"form",onSubmit:function(e){u.a.signIn(e,n,p,j)},children:[Object(i.jsx)("h3",{className:"form-title",children:"\u0412\u0445\u043e\u0434"}),Object(i.jsx)("input",{type:"email",placeholder:"Email",required:!0,className:"form-field",onChange:function(e){o(e.target.value)}}),Object(i.jsx)("input",{type:"password",placeholder:"Password",required:!0,className:"form-field",onChange:function(e){d(e.target.value)}}),Object(i.jsx)("button",{className:"form-send",children:"\u0412\u0445\u043e\u0434"}),Object(i.jsxs)("p",{className:"form-text",children:["\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",Object(i.jsx)("br",{}),Object(i.jsx)(s.b,{to:"/register",className:"form-text link",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})}}}]);
//# sourceMappingURL=6.781eab03.chunk.js.map